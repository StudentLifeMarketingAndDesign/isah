{"version":3,"sources":["app.js","foundation.core.js","foundation.util.box.js","foundation.util.keyboard.js","foundation.util.mediaQuery.js","foundation.util.motion.js","foundation.util.nest.js","foundation.util.timerAndImageLoader.js","foundation.util.touch.js","foundation.util.triggers.js","foundation.accordion.js","foundation.interchange.js","foundation.tabs.js","flickity.pkgd.min.js","flickitybg-lazyload.js","jquery-autocomplete.js","jquery.magnific-popup.js","lazyload.js","what-input.js","z-menubar.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","onLoadeddata","event","cell","$gallery","flickity","target","element","toggleSearchClasses","$","toggleClass","removeClass","setTimeout","getLocation","options","enableHighAccuracy","timeout","maximumAge","console","log","navigator","geolocation","getCurrentPosition","locationSuccess","showError","x","html","resetSearchForm","hide","show","val","history","pushState","window","location","hash","loadFromHash","countyHash","substr","load","magnificPopup","type","preloader","position","lat","coords","latitude","lon","longitude","accuracy","latlon","google","maps","LatLng","geocoder","Geocoder","geocode","latLng","results","status","GeocoderStatus","OK","county","getCounty","countyName","convertToSlug","replace","Text","toLowerCase","getGeocodedCountyNameFromPosition","showPosition","mapholder","document","getElementById","style","height","width","myOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","mapTypeControl","navigationControlOptions","NavigationControlStyle","SMALL","map","Map","Marker","title","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","geocodeResponse","i","address_components","length","j","types","long_name","_typeof","Symbol","iterator","constructor","prototype","functionName","fn","undefined","Function","name","funcNameRegex","exec","toString","trim","parseValue","str","isNaN","parseFloat","hyphenate","FOUNDATION_VERSION","Foundation","version","_plugins","_uuids","rtl","attr","plugin","className","attrName","this","registerPlugin","pluginName","uuid","GetYoDigits","$element","data","trigger","push","unregisterPlugin","splice","indexOf","removeAttr","removeData","prop","reInit","plugins","isJQ","each","_init","_this","fns","object","plgs","forEach","p","foundation","string","keys","err","namespace","Math","round","pow","random","slice","reflow","elem","$elem","find","addBack","$el","opts","warn","split","e","opt","el","er","getFnName","transitionend","end","transitions","transition","WebkitTransition","MozTransition","OTransition","createElement","t","triggerHandler","util","throttle","func","delay","timer","context","args","arguments","apply","method","$meta","$noJS","appendTo","head","MediaQuery","Array","call","plugClass","ReferenceError","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","test","userAgent","lastTime","callback","nextTime","max","clearTimeout","performance","start","bind","oThis","aArgs","fToBind","fNOP","fBound","concat","jQuery","ImNotTouchingYou","parent","lrOnly","tbOnly","top","bottom","left","right","eleDims","GetDimensions","parDims","offset","windowDims","allDirs","Error","rect","getBoundingClientRect","parRect","parentNode","winRect","body","winY","pageYOffset","winX","pageXOffset","parentDims","GetOffsets","anchor","vOffset","hOffset","isOverflow","$eleDims","$anchorDims","Box","getKeyCodes","kcs","k","kc","keyCodes","9","13","27","32","37","38","39","40","commands","Keyboard","parseKey","which","keyCode","String","fromCharCode","toUpperCase","shiftKey","ctrlKey","altKey","handleKey","component","functions","cmds","command","commandList","ltr","extend","returnValue","handled","unhandled","findFocusable","filter","is","register","componentName","trapFocus","$focusable","$firstFocusable","eq","$lastFocusable","on","preventDefault","focus","releaseFocus","off","parseStyleToObject","styleObject","reduce","ret","param","parts","decodeURIComponent","hasOwnProperty","isArray","queries","current","namedQueries","self","extractedStyles","css","_getCurrentSize","_watcher","atLeast","size","query","get","matchMedia","matches","matched","newSize","currentSize","styleMedia","media","script","getElementsByTagName","info","id","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","Move","duration","move","ts","prog","anim","animate","isIn","animation","cb","finish","reset","transitionDuration","initClass","activeClass","initClasses","activeClasses","addClass","offsetWidth","one","Motion","animateIn","animateOut","Nest","Feather","menu","items","role","subMenuClass","subItemClass","hasSubClass","$item","$sub","children","aria-haspopup","aria-label","aria-expanded","data-submenu","aria-hidden","Burn","Timer","nameSpace","remain","isPaused","restart","infinite","pause","onImagesLoaded","images","singleImageLoaded","unloaded","complete","readyState","src","onTouchEnd","removeEventListener","onTouchMove","isMoving","spotSwipe","dir","touches","pageX","dx","pageY","startPosX","elapsedTime","startTime","abs","moveThreshold","timeThreshold","onTouchStart","startPosY","addEventListener","init","enabled","documentElement","special","swipe","setup","noop","addTouch","handleTouch","simulatedEvent","changedTouches","first","eventTypes","touchstart","touchmove","touchend","MouseEvent","bubbles","cancelable","screenX","screenY","clientX","clientY","createEvent","initMouseEvent","dispatchEvent","checkListeners","eventsListener","resizeListener","scrollListener","closemeListener","yetiBoxes","plugNames","listeners","join","pluginId","not","debounce","$nodes","MutationObserver","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","attributeName","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","prefixes","triggers","stopPropagation","fadeOut","IHearYou","_createClass","defineProperties","props","descriptor","protoProps","staticProps","Accordion","defaults","ENTER","SPACE","ARROW_DOWN","ARROW_UP","_this2","$tabs","idx","$content","linkId","aria-controls","aria-selected","aria-labelledby","$initActive","firstTimeInit","down","_checkDeepLink","$link","$anchor","hasClass","deepLinkSmudge","scrollTop","deepLinkSmudgeDelay","deepLink","_events","$tabContent","toggle","next","$a","multiExpand","previous","prev","up","updateHistory","replaceState","firstTime","_this3","$currentActive","slideDown","slideSpeed","$aunts","siblings","allowAllClosed","slideUp","stop","Interchange","rules","currentPath","_addBreakpoints","_generateRules","_reflow","match","rule","path","SPECIAL_QUERIES","rulesList","nodeName","background-image","response","landscape","portrait","retina","Tabs","ARROW_RIGHT","ARROW_LEFT","$tabTitles","linkClass","isActive","linkActiveClass","autoFocus","matchHeight","$images","_setHeight","selectTab","_addKeyHandler","_addClickHandler","_setHeightMqHandler","_handleTabChange","$prevElement","$nextElement","$elements","wrapOnKeys","last","min","open","historyHandled","activeCollapse","_collapseTab","$oldTab","$tabLink","$targetContent","_openTab","panelActiveClass","$target_anchor","idStr","panelClass","panel","visibility","display","temp","factory","define","amd","module","exports","require","jQueryBridget","PluginClass","methodCall","$elems","methodName","pluginMethodStr","logError","charAt","plainCall","option","isPlainObject","arg0","arraySlice","updateJQuery","bridget","message","global","EvEmitter","proto","eventName","listener","events","once","onceEvents","_onceEvents","onceListeners","index","emitEvent","isOnce","allOff","getSize","getStyleSize","num","isValid","getZeroSize","innerWidth","innerHeight","outerWidth","outerHeight","measurementsLength","measurement","measurements","getStyle","isSetup","div","padding","borderStyle","borderWidth","boxSizing","appendChild","isBoxSizeOuter","removeChild","querySelector","nodeType","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","prefix","selector","fizzyUIUtils","utils","a","b","modulo","makeArray","isArrayLike","removeFrom","ary","getParent","getQueryElement","handleEvent","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","docReady","toDashed","$1","$2","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","getAttribute","JSON","parse","Flickity","Cell","create","setAttribute","shift","destroy","side","originSide","removeAttribute","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","cellAlign","getPositionValue","wrapShift","slideableWidth","remove","Slide","isOriginLeft","cells","addCell","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","select","changeSelected","unselect","isSelected","classMethod","classList","getCellElements","animatePrototype","startAnimation","isAnimating","restingFrames","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","wrapAround","shiftWrapCells","cursorPosition","rightToLeft","slider","transform","firstSlide","slides","positionX","progress","slidesWidth","positionSliderAtSelected","selectedSlide","velocity","percentPosition","isPointerDown","isFreeScrolling","selectedIndex","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","_unshiftCells","getFrictionFactor","applyForce","force","getRestingPosition","isDraggable","dragVelocity","dragX","dragForce","dragDown","distance","selectedAttraction","_Flickity","moveElements","toElem","queryElement","flickityGUID","instances","_create","GUID","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","guid","viewport","_createSlider","watchCSS","activate","add","cellElems","_filterFindCellElements","reloadCells","tabIndex","initialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","updateSlides","_containSlides","slide","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","parseInt","percentMatch","percent","reposition","setCellAlign","cellAlignShorthands","shorthand","adaptiveHeight","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","emitArgs","$event","jQEvent","Event","isWrap","isInstant","_wrapSelect","prevIndex","isWrapping","wrapIndex","delta","backWrapDelta","forewardWrapDelta","isDragSelect","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","selectCell","queryCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","slideIndex","uiChange","childUIPointerDown","onresize","watchOption","afterContent","content","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","leftMethod","rightMethod","prevScrollY","scrollTo","setJQuery","jq","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","y","Unidragger","bindHandles","_bindHandles","unbindHandles","touchAction","_touchActionValue","handles","handle","isOkay","okayPointerDown","pointerDownPointer","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","focused","canBlur","blur","moveVector","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","dragEnd","onclick","isIgnoringMouseUp","staticClick","getScrollPosition","draggable","dragThreshold","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","_childUIPointerDownDrag","unbindDrag","updateDraggable","onDeactivateDrag","bindDrag","pointerDownFocus","_pointerDownDefault","_pointerDownPreventDefault","pointerDownScroll","focusNodes","isFocusNode","isTouchStart","isTouchPointer","pointerType","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","freeScroll","dragEndRestingSelect","restingX","dragEndBoostSelect","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","d","md","isWrapAround","wrap","floor","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","TapListener","bindTap","unbindTap","tapElement","pointerPoint","boundingRect","scrollX","scrollY","isInside","PrevNextButton","getArrowMovements","shape","x0","x1","y1","x2","y2","x3","svgURI","isEnabled","isPrevious","leftDirection","isLeft","disable","svg","createSVG","onTap","update","createElementNS","pathMovements","arrowShape","enable","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","setDots","addDots","removeDots","count","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","isPageHidden","hidden","tick","time","autoPlay","clear","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","insert","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","getCellLazyImages","lazyloadAttr","srcAttr","srcsetAttr","lazySelector","imgs","LazyLoader","img","_createLazyload","lazyLoad","lazyImages","lazyCellImages","srcset","onload","onerror","lerp","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","firstIndex","selectIndex","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","LoadingImage","Background","url","Image","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","1","11","reURL","backgroundImage","addBackground","loadingImage","onProgress","progressedCount","hasAnyBroken","isLoaded","notify","debug","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","onImagesLoadedProgress","BgLazyLoader","_createBgLazyLoad","bgLazyLoad","bgLazyLoadElem","Autocomplete","that","ajaxSettings","autoSelectFirst","serviceUrl","lookup","onSelect","minChars","maxHeight","deferRequestBy","params","formatResult","delimiter","zIndex","noCache","onSearchStart","onSearchComplete","onSearchError","preserveInput","containerClass","tabDisabled","dataType","currentRequest","triggerSelectOnValidInput","preventBadQueries","lookupFilter","suggestion","originalQuery","queryLowerCase","paramName","transformResult","parseJSON","showNoSuggestionNotice","noSuggestionNotice","orientation","forceFixPosition","suggestions","badQueries","currentValue","intervalId","cachedResponse","onChangeInterval","onChange","isLocal","suggestionsContainer","noSuggestionsContainer","classes","selected","hint","hintValue","selection","initialize","setOptions","escapeRegExChars","createNode","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","pattern","RegExp","killerFn","container","suggestionSelector","killSuggestions","disableKillerFn","fixPositionCapture","visible","fixPosition","onKeyPress","onKeyUp","onBlur","onFocus","onValueChange","enableKillerFn","abortAjax","abort","suppliedOptions","verifySuggestionsFormat","validateOrientation","max-height","z-index","clearCache","clearInterval","$container","containerParent","siteSearchDiv","containerHeight","styles","viewPortHeight","topOverflow","bottomOverflow","parentOffsetDiff","opacity","offsetParent","stopKillSuggestions","setInterval","isCursorAtEnd","range","valLength","selectionStart","createRange","moveStart","suggest","onHint","selectHint","moveUp","moveDown","stopImmediatePropagation","findBestHint","getQuery","onInvalidateSelection","isExactMatch","getSuggestions","getSuggestionsLocal","limit","lookupLimit","grep","q","cacheKey","ignoreParams","isFunction","isBadQuery","ajax","done","result","processResponse","fail","jqXHR","textStatus","errorThrown","onHide","signalHint","noSuggestions","category","groupBy","classSelected","beforeRender","formatGroup","currentCategory","adjustContainerWidth","detach","empty","bestMatch","foundMatch","fallback","inArray","activeItem","adjustScroll","offsetTop","upperBound","lowerBound","heightDelta","getValue","onSelectCallback","dispose","autocomplete","devbridgeAutocomplete","dataKey","inputElement","Zepto","mfp","_prevStatus","_document","_prevContentType","_wrapClasses","_currPopupType","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","MagnificPopup","_isJQ","_window","_mfpOn","f","ev","_getEl","raw","innerHTML","_mfpTrigger","st","callbacks","_getCloseBtn","currTemplate","closeBtn","closeMarkup","tClose","_checkInstance","supportsTransitions","s","v","pop","appVersion","isLowIE","isIE8","all","isAndroid","isIOS","supportsTransition","probablyMobile","popupsCache","isObj","toArray","item","parsed","isOpen","updateItemHTML","mainEl","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","_checkIfClose","contentContainer","tLoading","modules","n","closeBtnInside","template","values","close_replaceWith","alignTop","overflow","overflowY","overflowX","fixedBgPos","updateSize","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","isIE7","classesToadd","mainClass","_addClassToMFP","prependTo","_lastFocusedEl","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","_removeClassFromMFP","currItem","autoFocusLast","prevHeight","winHeight","zoomLevel","clientWidth","parseEl","markup","newContent","appendContent","preloaded","tagName","addGroup","eHandler","mfpEl","_openClick","eName","delegate","midClick","metaKey","disableOn","updateStatus","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","replaceWith","scrollbarSize","scrollDiv","registerModule","jqEl","itemOpts","_hiddenClass","_inlinePlaceholder","_lastInlineElement","INLINE_NS","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","inlineElement","_ajaxCur","AJAX_NS","_removeAjaxCursor","_destroyAjaxRequest","req","settings","cursor","tError","initAjax","getAjax","success","xhr","finished","loadError","_imgInterval","_getTitle","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","decr","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","getImage","guard","onLoadComplete","loaded","onLoadError","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","easing","opener","initZoom","zoomSt","openTimeout","animatedImg","getElToAnimate","newImg","cssObj","-webkit-backface-visibility","showMainContent","_allowZoom","_getItemToZoom","_getOffset","isLarge","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","l","arrowLeft","arrowRight","click","_preloadTimeout","preloadNearbyImages","goTo","newIndex","preloadBefore","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","max-width","_extends","assign","source","LazyLoad","defaultSettings","elements_selector","data_src","data_srcset","class_loading","class_loaded","class_error","class_initial","skip_invisible","callback_load","callback_error","callback_set","callback_processed","isBot","callCallback","argument","getTopOffset","ownerDocument","clientTop","isBelowViewport","fold","getLeftOffset","clientLeft","isAtRightOfViewport","documentWidth","isAboveViewport","isAtLeftOfViewport","isInsideViewport","createInstance","classObj","CustomEvent","detail","autoInitialize","optsLength","dataPrefix","getData","attribute","setData","setSourcesForPicture","srcsetDataAttribute","parentElement","pictureChild","sourceSrcset","setSources","srcDataAttribute","elementSrc","imgSrcset","supportsClassList","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","_isFirstLoop","_reveal","errorCallback","loadCallback","_loopThroughElements","_elements","elementsLength","processedIndexes","firstLoop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","autoInitOptions","lazyLoadOptions","root","__webpack_require__","moduleId","installedModules","c","docElem","currentInput","currentIntent","formInputs","ignoreMap","inputMap","keyup","mousemove","MSPointerDown","MSPointerMove","pointermove","inputTypes","isBuffering","pointerMap","2","3","4","touchTimer","setUp","detectWheel","addListeners","setInput","updateInput","setIntent","MSPointerEvent","touchBuffer","eventKey","activeElem","activeInput","onmousewheel","ask","setup_navigation","keyCodeMap","48","49","50","51","52","53","54","55","56","57","59","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","96","97","98","99","100","101","102","103","104","105","menuHoverClass","top_level_links","hover","keydown","parents","substring","links","found","nextAll","prevAll","_$$flickity","bases","baseHref","href","myLazyLoad","$carousel","$imgs","docStyle","transformProp","flkty","video","$slideshow","slideshowflk","whatInput","toggleMobileMenuClasses","focusout","oldSize","pathname","hostname","Sage","common","finalize","home","IsahProjectDirectory","onpopstate","UTIL","fire","funcname","loadEvents","classnm","ready"],"mappings":"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","file":"../scripts/app.js","sourcesContent":["\n\nvar geocoder;  // this object will handle the position<->address conversion\nvar x = $(\"#geo-message\");\n//var countyName;\n\nfunction getLocation() {\n\n  var options = {\n  enableHighAccuracy: true,\n  timeout: 5000,\n  maximumAge: 0\n};\n  console.log(options);\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(locationSuccess, showError, options); // , {maximumAge:60000, timeout:5000, enableHighAccuracy:true}\n    } else {\n        x.html(\"Geolocation is not supported by this browser.\");\n    }\n}\nfunction resetSearchForm(){\n\n    x.hide();\n    $('#results').hide();\n    $('#directory-form').show();\n    $(\"#Form_CountyForm_County\").val(\"\");\n    if(history.pushState) {\n        history.pushState(null, null, 'directory/');\n    }\n    else {\n        window.location.hash = '';\n    }\n}\nfunction loadFromHash(){\n  x.hide();\n  var countyHash = window.location.hash.substr(1);\n\n  if(countyHash != ''){\n    $('#loading').show();\n\n    $('#Form_CountyForm_County').val(countyHash);\n    $('#directory-form').hide();\n\n\n    $('#results').load('directory/county/load/'+ countyHash, function(){\n      $('#loading').hide();\n      $('#results').show();\n    });\n    $('.open-feedback').magnificPopup({\n      type: 'inline',\n      preloader: false,\n    });\n\n\n\n\n  }else{\n    resetSearchForm();\n  }\n}\nfunction locationSuccess(position){\n      x.hide();\n      var lat = position.coords.latitude;\n      var lon = position.coords.longitude;\n      var accuracy = position.coords.accuracy;\n\n      var latlon = new google.maps.LatLng(lat, lon);\n      var geocoder = new google.maps.Geocoder();\n      geocoder.geocode({'latLng': latlon}, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n\n          if(accuracy < 10000){\n            $('#loading').show();\n            var county = getCounty(results[0]);\n           // document.getElementById('County').innerHTML = 'County: ' + county;\n\n            var countyName = convertToSlug(county);\n            countyName = countyName.replace(\"-county\", \"\");\n            //countyName =  convertToSlug(countyName);\n            $('#directory-form').hide();\n            //alert(countyName);\n\n\n            $('#results').load('directory/county/load/'+ countyName, function(){\n              $('#loading').hide();\n              $('#results').show();\n            });\n\n                if(history.pushState) {\n                    history.pushState(null, null, 'directory/#'+ countyName);\n                }\n                else {\n                    window.location.hash = '#'+ countyName;\n                }\n            }else{\n              x.show();\n              x.html(\"We couldn't get an accurate location from your device. Some desktops require Wi-Fi to be enabled for the most accurate results. Please select a county from the dropdown or <a href='directory/county/list'>view a list of counties &rarr;</a>\");\n            }\n\n\n        }\n      });\n  //showPosition(position);\n}\nfunction convertToSlug(Text)\n{\n    return Text\n        .toLowerCase()\n        .replace(/ /g,'-')\n        .replace(/[^\\w-]+/g,'')\n        ;\n}\nfunction getGeocodedCountyNameFromPosition(position){\n\n      var lat = position.coords.latitude;\n      var lon = position.coords.longitude;\n      var latlon = new google.maps.LatLng(lat, lon);\n\n      var geocoder = new google.maps.Geocoder();\n      geocoder.geocode({'latLng': latlon}, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n\n          var county = getCounty(results[0]);\n         // document.getElementById('County').innerHTML = 'County: ' + county;\n\n          countyName = county.replace(\"County\", \"\");\n\n        }\n      });\n\n}\n\n\nfunction showPosition(position) {\n    x.show();\n    x.html(\"Location found.\");\n    var lat = position.coords.latitude;\n    var lon = position.coords.longitude;\n    var latlon = new google.maps.LatLng(lat, lon);\n    // okay, now we have the position (as a google maps latLng object),\n    // now we send this position to geocoder\n    // @see  https://developers.google.com/maps/documentation/javascript/geocoding\n\n\n    var mapholder = document.getElementById('mapholder');\n    mapholder.style.height = '250px';\n    mapholder.style.width = '500px';\n\n    var myOptions = {\n      center:latlon,zoom:14,\n      mapTypeId:google.maps.MapTypeId.ROADMAP,\n      mapTypeControl:false,\n      navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}\n    }\n    var map = new google.maps.Map(document.getElementById(\"mapholder\"), myOptions);\n    var marker = new google.maps.Marker({\n      position:latlon,\n      map:map,\n      title:\"You are here!\"\n    });\n}\n\nfunction showError(error) {\n    x.show();\n    switch(error.code) {\n        case error.PERMISSION_DENIED:\n            x.html(\"Location services on this device/browser are not allowed. Please check your device's settings.\");\n            break;\n        case error.POSITION_UNAVAILABLE:\n\n            x.html(\"We couldn't find your location because your device/browser may not have allowed us to.\");\n            break;\n        case error.TIMEOUT:\n            x.html(\"The request to get your location has timed out.\");\n            break;\n        case error.UNKNOWN_ERROR:\n            x.html(\"An unknown error occurred when trying to get your location information. Give us feedback by clicking the link at the bottom of the page.\");\n            break;\n    }\n}\n// more info, see my post on http://stackoverflow.com/questions/27203977/google-api-address-components\nfunction getCounty(geocodeResponse) {\n  var type = \"administrative_area_level_2\";  //the function will look through the results and find a component with type = 'locatily'.  Then it returns that\n  for(var i=0; i < geocodeResponse.address_components.length; i++) {\n    for (var j=0; j < geocodeResponse.address_components[i].types.length; j++) {\n      if (geocodeResponse.address_components[i].types[j] == type) {\n        return geocodeResponse.address_components[i].long_name;\n      }\n    }\n  }\n  return '';\n}\n\n/* ========================================================================\n * DOM-based Routing\n * Based on http://goo.gl/EUTi53 by Paul Irish\n *\n * Only fires on body classes that match. If a body class contains a dash,\n * replace the dash with an underscore when adding it to the object below.\n *\n * .noConflict()\n * The routing is enclosed within an anonymous function so that you can\n * always reference jQuery with $, even when in .noConflict() mode.\n * ======================================================================== */\n\n(function($) {\n\n  // Use this variable to set up the common and page specific functions. If you\n  // rename this variable, you will also need to rename the namespace below.\n  var Sage = {\n    // All pages\n    'common': {\n      init: function() {\n     // Show/Hide the directory navigation on-click\n      $('.open-feedback').magnificPopup({\n\n        type: 'inline',\n        preloader: false,\n\n      });\n      },\n      finalize: function() {\n        // JavaScript to be fired on all pages, after page specific JS is fired\n      }\n    },\n    // Home page\n    'home': {\n      init: function() {\n        // JavaScript to be fired on the home page\n      },\n      finalize: function() {\n        // JavaScript to be fired on the home page, after the init JS\n      }\n    },\n    // About us page, note the change from about-us to about_us.\n    'IsahProjectDirectory': {\n      init: function() {\n\n        window.onpopstate = function (event) {\n          loadFromHash();\n        }\n        if(window.location.hash) {\n          loadFromHash();\n        } else {\n          // Fragment doesn't exist\n        }\n\n          //New search, reset everything.\n          $(\"body\").on('click', '#new-search-btn', function(e) {\n              resetSearchForm();\n\n          });\n          //User selected something from the dropdown.\n          $('#Form_CountyForm_County').on('change', function(e){\n              x.hide();\n              $('#loading').show();\n              $('#directory-form').hide();\n              $('#results').load('directory/county/load/'+ $('#Form_CountyForm_County').val(), function(){\n                $('#loading').hide();\n                $('#results').show();\n              });\n              $('.open-feedback').magnificPopup({\n                  type: 'inline',\n                  preloader: false,\n             });\n\n              if(history.pushState) {\n                  history.pushState(null, null, 'directory/#'+$('#Form_CountyForm_County').val());\n              }\n              else {\n                  window.location.hash = '#'+$('#Form_CountyForm_County').val();\n              }\n\n          });\n          $('#get-location').on('click', function(e){\n              //$('#results').innerHTML = 'Loading...';\n              getLocation();\n          });\n      }\n    }\n  };\n\n  // The routing fires all common scripts, followed by the page specific scripts.\n  // Add additional events for more control over timing e.g. a finalize event\n  var UTIL = {\n    fire: function(func, funcname, args) {\n      var fire;\n      var namespace = Sage;\n      funcname = (funcname === undefined) ? 'init' : funcname;\n      fire = func !== '';\n      fire = fire && namespace[func];\n      fire = fire && typeof namespace[func][funcname] === 'function';\n\n      if (fire) {\n        namespace[func][funcname](args);\n      }\n    },\n    loadEvents: function() {\n      // Fire common init JS\n      UTIL.fire('common');\n\n      // Fire page-specific init JS, and then finalize JS\n      $.each(document.body.className.replace(/-/g, '_').split(/\\s+/), function(i, classnm) {\n        UTIL.fire(classnm);\n        UTIL.fire(classnm, 'finalize');\n      });\n\n      // Fire common finalize JS\n      UTIL.fire('common', 'finalize');\n\n\n\n    }\n  };\n\n  // Load Events\n  $(document).ready(UTIL.loadEvents);\n\n})(jQuery); // Fully reference jQuery after this point.\n\n","!function($) {\n\n\"use strict\";\n\nvar FOUNDATION_VERSION = '6.3.1';\n\n// Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Returns a boolean for RTL support\n   */\n  rtl: function(){\n    return $('html').attr('dir') === 'rtl';\n  },\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function(plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = (name || functionName(plugin));\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n    var attrName  = hyphenate(className);\n\n    // Add to the Foundation object and the plugins list (for reflowing)\n    this._plugins[attrName] = this[className] = plugin;\n  },\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function(plugin, name){\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = this.GetYoDigits(6, pluginName);\n\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\n          /**\n           * Fires when the plugin has initialized.\n           * @event Plugin#init\n           */\n    plugin.$element.trigger(`init.zf.${pluginName}`);\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function(plugin){\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\n          /**\n           * Fires when the plugin has been destroyed.\n           * @event Plugin#destroyed\n           */\n          .trigger(`destroyed.zf.${pluginName}`);\n    for(var prop in plugin){\n      plugin[prop] = null;//clean up script to prep for garbage collection.\n    }\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n   reInit: function(plugins){\n     var isJQ = plugins instanceof $;\n     try{\n       if(isJQ){\n         plugins.each(function(){\n           $(this).data('zfPlugin')._init();\n         });\n       }else{\n         var type = typeof plugins,\n         _this = this,\n         fns = {\n           'object': function(plgs){\n             plgs.forEach(function(p){\n               p = hyphenate(p);\n               $('[data-'+ p +']').foundation('_init');\n             });\n           },\n           'string': function(){\n             plugins = hyphenate(plugins);\n             $('[data-'+ plugins +']').foundation('_init');\n           },\n           'undefined': function(){\n             this['object'](Object.keys(_this._plugins));\n           }\n         };\n         fns[type](plugins);\n       }\n     }catch(err){\n       console.error(err);\n     }finally{\n       return plugins;\n     }\n   },\n\n  /**\n   * returns a random base-36 uid with namespacing\n   * @function\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n   * @returns {String} - unique id\n   */\n  GetYoDigits: function(length, namespace){\n    length = length || 6;\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\n  },\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function(elem, plugins) {\n\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    }\n    // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n      plugins = [plugins];\n    }\n\n    var _this = this;\n\n    // Iterate through each plugin\n    $.each(plugins, function(i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name];\n\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\n\n      // For each plugin found, initialize it\n      $elem.each(function() {\n        var $el = $(this),\n            opts = {};\n        // Don't double-dip on plugins\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if($el.attr('data-options')){\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\n            var opt = e.split(':').map(function(el){ return el.trim(); });\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n        try{\n          $el.data('zfPlugin', new plugin($(this), opts));\n        }catch(er){\n          console.error(er);\n        }finally{\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  transitionend: function($elem){\n    var transitions = {\n      'transition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'otransitionend'\n    };\n    var elem = document.createElement('div'),\n        end;\n\n    for (var t in transitions){\n      if (typeof elem.style[t] !== 'undefined'){\n        end = transitions[t];\n      }\n    }\n    if(end){\n      return end;\n    }else{\n      end = setTimeout(function(){\n        $elem.triggerHandler('transitionend', [$elem]);\n      }, 1);\n      return 'transitionend';\n    }\n  }\n};\n\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function (func, delay) {\n    var timer = null;\n\n    return function () {\n      var context = this, args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\n\n// TODO: consider not making this a jQuery function\n// TODO: need way to reflow vs. re-initialize\n/**\n * The Foundation jQuery method.\n * @param {String|Array} method - An action to perform on the current jQuery object.\n */\nvar foundation = function(method) {\n  var type = typeof method,\n      $meta = $('meta.foundation-mq'),\n      $noJS = $('.no-js');\n\n  if(!$meta.length){\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\n  }\n  if($noJS.length){\n    $noJS.removeClass('no-js');\n  }\n\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\n    Foundation.MediaQuery._init();\n    Foundation.reflow(this);\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\n\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\n      if(this.length === 1){//if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n      }else{\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\n          plugClass[method].apply($(el).data('zfPlugin'), args);\n        });\n      }\n    }else{//error for no class or no method\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n    }\n  }else{//error for invalid argument type\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\n  }\n  return this;\n};\n\nwindow.Foundation = Foundation;\n$.fn.foundation = foundation;\n\n// Polyfill for requestAnimationFrame\n(function() {\n  if (!Date.now || !window.Date.now)\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\n\n  var vendors = ['webkit', 'moz'];\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\n                                 || window[vp+'CancelRequestAnimationFrame']);\n  }\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    window.requestAnimationFrame = function(callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function() { callback(lastTime = nextTime); },\n                          nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n  if(!window.performance || !window.performance.now){\n    window.performance = {\n      start: Date.now(),\n      now: function(){ return Date.now() - this.start; }\n    };\n  }\n})();\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n// Polyfill to get the name of a function in IE9\nfunction functionName(fn) {\n  if (Function.prototype.name === undefined) {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = (funcNameRegex).exec((fn).toString());\n    return (results && results.length > 1) ? results[1].trim() : \"\";\n  }\n  else if (fn.prototype === undefined) {\n    return fn.constructor.name;\n  }\n  else {\n    return fn.prototype.constructor.name;\n  }\n}\nfunction parseValue(str){\n  if ('true' === str) return true;\n  else if ('false' === str) return false;\n  else if (!isNaN(str * 1)) return parseFloat(str);\n  return str;\n}\n// Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nFoundation.Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets\n}\n\n/**\n * Compares the dimensions of an element to a container and determines collision events with container.\n * @function\n * @param {jQuery} element - jQuery object to test for collisions.\n * @param {jQuery} parent - jQuery object to use as bounding container.\n * @param {Boolean} lrOnly - set to true to check left and right values only.\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n * @default if no parent object passed, detects collisions with `window`.\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\n */\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n  var eleDims = GetDimensions(element),\n      top, bottom, left, right;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\n    top    = (eleDims.offset.top >= parDims.offset.top);\n    left   = (eleDims.offset.left >= parDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\n  }\n  else {\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\n  }\n\n  var allDirs = [bottom, top, left, right];\n\n  if (lrOnly) {\n    return left === right === true;\n  }\n\n  if (tbOnly) {\n    return top === bottom === true;\n  }\n\n  return allDirs.indexOf(false) === -1;\n};\n\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\nfunction GetDimensions(elem, test){\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  }\n}\n\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n  switch (position) {\n    case 'top':\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'center top':\n      return {\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'center bottom':\n      return {\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n      break;\n    case 'center left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center':\n      return {\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n        top: $eleDims.windowDims.offset.top + vOffset\n      }\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      }\n      break;\n    case 'left bottom':\n      return {\n        left: $anchorDims.offset.left,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    case 'right bottom':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    default:\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n  }\n}\n\n}(jQuery);\n","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n    // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n    key = key.replace(/\\W+/, '');\n\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n\n    // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n    key = key.replace(/_$/, '');\n\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    if(!$element) {return false; }\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },  \n\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus($element) {\n    var $focusable = Foundation.Keyboard.findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n\n    $element.on('keydown.zf.trapfocus', function(event) {\n      if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      }\n      else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n// Default set of media queries\nconst defaultQueries = {\n  'default' : 'only screen',\n  landscape : 'only screen and (orientation: landscape)',\n  portrait : 'only screen and (orientation: portrait)',\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\n    'only screen and (min-device-pixel-ratio: 2),' +\n    'only screen and (min-resolution: 192dpi),' +\n    'only screen and (min-resolution: 2dppx)'\n};\n\nvar MediaQuery = {\n  queries: [],\n\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init() {\n    var self = this;\n    var extractedStyles = $('.foundation-mq').css('font-family');\n    var namedQueries;\n\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if(namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: `only screen and (min-width: ${namedQueries[key]})`\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Checks if the screen matches to a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n   */\n  is(size) {\n    size = size.trim().split(' ');\n    if(size.length > 1 && size[1] === 'only') {\n      if(size[0] === this._getCurrentSize()) return true;\n    } else {\n      return this.atLeast(size[0]);\n    }\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get(size) {\n    for (var i in this.queries) {\n      if(this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (typeof matched === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher() {\n    $(window).on('resize.zf.mediaquery', () => {\n      var newSize = this._getCurrentSize(), currentSize = this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        this.current = newSize;\n\n        // Broadcast the media query change on the window\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n};\n\nFoundation.MediaQuery = MediaQuery;\n\n// matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\nwindow.matchMedia || (window.matchMedia = function() {\n  'use strict';\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style   = document.createElement('style'),\n    script      = document.getElementsByTagName('script')[0],\n    info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium(media) {\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    }\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  }\n}());\n\n// Thank you: https://github.com/sindresorhus/query-string\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function(ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n    return ret;\n  }, {});\n\n  return styleObject;\n}\n\nFoundation.MediaQuery = MediaQuery;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  if (duration === 0) {\n    fn.apply(elem);\n    elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    return;\n  }\n\n  function move(ts){\n    if(!start) start = ts;\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nconst Nest = {\n  Feather(menu, type = 'zf') {\n    menu.attr('role', 'menubar');\n\n    var items = menu.find('li').attr({'role': 'menuitem'}),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    items.each(function() {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item\n          .addClass(hasSubClass)\n          .attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if(type === 'drilldown') {\n            $item.attr({'aria-expanded': false});\n          }\n\n        $sub\n          .addClass(`submenu ${subMenuClass}`)\n          .attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n        if(type === 'drilldown') {\n          $sub.attr({'aria-hidden': true});\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(`is-submenu-item ${subItemClass}`);\n      }\n    });\n\n    return;\n  },\n\n  Burn(menu, type) {\n    var //items = menu.find('li'),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    menu\n      .find('>li, .menu, .menu > li')\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\n      .removeAttr('data-submenu').css('display', '');\n\n    // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n    //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n    //           .removeAttr('data-submenu'));\n    // items.each(function(){\n    //   var $item = $(this),\n    //       $sub = $item.children('ul');\n    //   if($item.parent('[data-submenu]').length){\n    //     $item.removeClass('is-submenu-item ' + subItemClass);\n    //   }\n    //   if($sub.length){\n    //     $item.removeClass('has-submenu');\n    //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n    //   }\n    // });\n  }\n}\n\nFoundation.Nest = Nest;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nfunction Timer(elem, options, cb) {\n  var _this = this,\n      duration = options.duration,//options is an object for easily adding features later.\n      nameSpace = Object.keys(elem.data())[0] || 'timer',\n      remain = -1,\n      start,\n      timer;\n\n  this.isPaused = false;\n\n  this.restart = function() {\n    remain = -1;\n    clearTimeout(timer);\n    this.start();\n  }\n\n  this.start = function() {\n    this.isPaused = false;\n    // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    remain = remain <= 0 ? duration : remain;\n    elem.data('paused', false);\n    start = Date.now();\n    timer = setTimeout(function(){\n      if(options.infinite){\n        _this.restart();//rerun the timer.\n      }\n      if (cb && typeof cb === 'function') { cb(); }\n    }, remain);\n    elem.trigger(`timerstart.zf.${nameSpace}`);\n  }\n\n  this.pause = function() {\n    this.isPaused = true;\n    //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    elem.data('paused', true);\n    var end = Date.now();\n    remain = remain - (end - start);\n    elem.trigger(`timerpaused.zf.${nameSpace}`);\n  }\n}\n\n/**\n * Runs a callback function when images are fully loaded.\n * @param {Object} images - Image(s) to check if loaded.\n * @param {Func} callback - Function to execute when image is fully loaded.\n */\nfunction onImagesLoaded(images, callback){\n  var self = this,\n      unloaded = images.length;\n\n  if (unloaded === 0) {\n    callback();\n  }\n\n  images.each(function() {\n    // Check if image is loaded\n    if (this.complete || (this.readyState === 4) || (this.readyState === 'complete')) {\n      singleImageLoaded();\n    }\n    // Force load the image\n    else {\n      // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n      var src = $(this).attr('src');\n      $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + (new Date().getTime()));\n      $(this).one('load', function() {\n        singleImageLoaded();\n      });\n    }\n  });\n\n  function singleImageLoaded() {\n    unloaded--;\n    if (unloaded === 0) {\n      callback();\n    }\n  }\n}\n\nFoundation.Timer = Timer;\nFoundation.onImagesLoaded = onImagesLoaded;\n\n}(jQuery);\n","//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function($) {\n\n  $.spotSwipe = {\n    version: '1.0.0',\n    enabled: 'ontouchstart' in document.documentElement,\n    preventDefault: false,\n    moveThreshold: 75,\n    timeThreshold: 200\n  };\n\n  var   startPosX,\n        startPosY,\n        startTime,\n        elapsedTime,\n        isMoving = false;\n\n  function onTouchEnd() {\n    //  alert(this);\n    this.removeEventListener('touchmove', onTouchMove);\n    this.removeEventListener('touchend', onTouchEnd);\n    isMoving = false;\n  }\n\n  function onTouchMove(e) {\n    if ($.spotSwipe.preventDefault) { e.preventDefault(); }\n    if(isMoving) {\n      var x = e.touches[0].pageX;\n      var y = e.touches[0].pageY;\n      var dx = startPosX - x;\n      var dy = startPosY - y;\n      var dir;\n      elapsedTime = new Date().getTime() - startTime;\n      if(Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n        dir = dx > 0 ? 'left' : 'right';\n      }\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n      //   dir = dy > 0 ? 'down' : 'up';\n      // }\n      if(dir) {\n        e.preventDefault();\n        onTouchEnd.call(this);\n        $(this).trigger('swipe', dir).trigger(`swipe${dir}`);\n      }\n    }\n  }\n\n  function onTouchStart(e) {\n    if (e.touches.length == 1) {\n      startPosX = e.touches[0].pageX;\n      startPosY = e.touches[0].pageY;\n      isMoving = true;\n      startTime = new Date().getTime();\n      this.addEventListener('touchmove', onTouchMove, false);\n      this.addEventListener('touchend', onTouchEnd, false);\n    }\n  }\n\n  function init() {\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n  }\n\n  function teardown() {\n    this.removeEventListener('touchstart', onTouchStart);\n  }\n\n  $.event.special.swipe = { setup: init };\n\n  $.each(['left', 'up', 'down', 'right'], function () {\n    $.event.special[`swipe${this}`] = { setup: function(){\n      $(this).on('swipe', $.noop);\n    } };\n  });\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function($){\n  $.fn.addTouch = function(){\n    this.each(function(i,el){\n      $(el).bind('touchstart touchmove touchend touchcancel',function(){\n        //we pass the original event object because the jQuery event\n        //object is normalized to w3c specs and does not provide the TouchList\n        handleTouch(event);\n      });\n    });\n\n    var handleTouch = function(event){\n      var touches = event.changedTouches,\n          first = touches[0],\n          eventTypes = {\n            touchstart: 'mousedown',\n            touchmove: 'mousemove',\n            touchend: 'mouseup'\n          },\n          type = eventTypes[event.type],\n          simulatedEvent\n        ;\n\n      if('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n        simulatedEvent = new window.MouseEvent(type, {\n          'bubbles': true,\n          'cancelable': true,\n          'screenX': first.screenX,\n          'screenY': first.screenY,\n          'clientX': first.clientX,\n          'clientY': first.clientY\n        });\n      } else {\n        simulatedEvent = document.createEvent('MouseEvent');\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);\n      }\n      first.target.dispatchEvent(simulatedEvent);\n    };\n  };\n}(jQuery);\n\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n","'use strict';\n\n!function($) {\n\nconst MutationObserver = (function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i=0; i < prefixes.length; i++) {\n    if (`${prefixes[i]}MutationObserver` in window) {\n      return window[`${prefixes[i]}MutationObserver`];\n    }\n  }\n  return false;\n}());\n\nconst triggers = (el, type) => {\n  el.data(type).split(' ').forEach(id => {\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\n  });\n};\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-open]', function() {\n  triggers($(this), 'open');\n});\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n$(document).on('click.zf.trigger', '[data-close]', function() {\n  let id = $(this).data('close');\n  if (id) {\n    triggers($(this), 'close');\n  }\n  else {\n    $(this).trigger('close.zf.trigger');\n  }\n});\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\n  let id = $(this).data('toggle');\n  if (id) {\n    triggers($(this), 'toggle');\n  } else {\n    $(this).trigger('toggle.zf.trigger');\n  }\n});\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\n  e.stopPropagation();\n  let animation = $(this).data('closable');\n\n  if(animation !== ''){\n    Foundation.Motion.animateOut($(this), animation, function() {\n      $(this).trigger('closed.zf');\n    });\n  }else{\n    $(this).fadeOut().trigger('closed.zf');\n  }\n});\n\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\n  let id = $(this).data('toggle-focus');\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\n});\n\n/**\n* Fires once after all other scripts have loaded\n* @function\n* @private\n*/\n$(window).on('load', () => {\n  checkListeners();\n});\n\nfunction checkListeners() {\n  eventsListener();\n  resizeListener();\n  scrollListener();\n  closemeListener();\n}\n\n//******** only fires this function once on load, if there's something to watch ********\nfunction closemeListener(pluginName) {\n  var yetiBoxes = $('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if(pluginName){\n    if(typeof pluginName === 'string'){\n      plugNames.push(pluginName);\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\n      plugNames.concat(pluginName);\n    }else{\n      console.error('Plugin names must be strings');\n    }\n  }\n  if(yetiBoxes.length){\n    let listeners = plugNames.map((name) => {\n      return `closeme.zf.${name}`;\n    }).join(' ');\n\n    $(window).off(listeners).on(listeners, function(e, pluginId){\n      let plugin = e.namespace.split('.')[0];\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\n\n      plugins.each(function(){\n        let _this = $(this);\n\n        _this.triggerHandler('close.zf.trigger', [_this]);\n      });\n    });\n  }\n}\n\nfunction resizeListener(debounce){\n  let timer,\n      $nodes = $('[data-resize]');\n  if($nodes.length){\n    $(window).off('resize.zf.trigger')\n    .on('resize.zf.trigger', function(e) {\n      if (timer) { clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('resizeme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a resize event\n        $nodes.attr('data-events', \"resize\");\n      }, debounce || 10);//default time to emit resize event\n    });\n  }\n}\n\nfunction scrollListener(debounce){\n  let timer,\n      $nodes = $('[data-scroll]');\n  if($nodes.length){\n    $(window).off('scroll.zf.trigger')\n    .on('scroll.zf.trigger', function(e){\n      if(timer){ clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('scrollme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a scroll event\n        $nodes.attr('data-events', \"scroll\");\n      }, debounce || 10);//default time to emit scroll event\n    });\n  }\n}\n\nfunction eventsListener() {\n  if(!MutationObserver){ return false; }\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n\t  //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n\t\t  }\n\t\t  if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('resizeme.zf.trigger', [$target]);\n\t\t   }\n\t\t  if (mutationRecordsList[0].attributeName === \"style\") {\n\t\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n\t\t  }\n\t\t  break;\n\n        case \"childList\":\n\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n// ------------------------------------\n\n// [PH]\n// Foundation.CheckWatchers = checkWatchers;\nFoundation.IHearYou = checkListeners;\n// Foundation.ISeeYou = scrollListener;\n// Foundation.IFeelYou = closemeListener;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Accordion module.\n * @module foundation.accordion\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n */\n\nclass Accordion {\n  /**\n   * Creates a new instance of an accordion.\n   * @class\n   * @fires Accordion#init\n   * @param {jQuery} element - jQuery object to make into an accordion.\n   * @param {Object} options - a plain object with settings to override the default options.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n    this._init();\n\n    Foundation.registerPlugin(this, 'Accordion');\n    Foundation.Keyboard.register('Accordion', {\n      'ENTER': 'toggle',\n      'SPACE': 'toggle',\n      'ARROW_DOWN': 'next',\n      'ARROW_UP': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the accordion by animating the preset active pane(s).\n   * @private\n   */\n  _init() {\n    this.$element.attr('role', 'tablist');\n    this.$tabs = this.$element.children('[data-accordion-item]');\n\n    this.$tabs.each(function(idx, el) {\n      var $el = $(el),\n          $content = $el.children('[data-tab-content]'),\n          id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n          linkId = el.id || `${id}-label`;\n\n      $el.find('a:first').attr({\n        'aria-controls': id,\n        'role': 'tab',\n        'id': linkId,\n        'aria-expanded': false,\n        'aria-selected': false\n      });\n\n      $content.attr({'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id});\n    });\n    var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n    this.firstTimeInit = true;\n    if($initActive.length){\n      this.down($initActive, this.firstTimeInit);\n      this.firstTimeInit = false;\n    }\n\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]'),\n        $anchor = $(anchor);\n\n        if ($link.length && $anchor) {\n          if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n            this.down($anchor, this.firstTimeInit);\n            this.firstTimeInit = false;\n          };\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var _this = this;\n            $(window).load(function() {\n              var offset = _this.$element.offset();\n              $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n            });\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Accordion#deeplink\n            */\n          this.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n        }\n      }\n    }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the accordion.\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    this.$tabs.each(function() {\n      var $elem = $(this);\n      var $tabContent = $elem.children('[data-tab-content]');\n      if ($tabContent.length) {\n        $elem.children('a').off('click.zf.accordion keydown.zf.accordion')\n               .on('click.zf.accordion', function(e) {\n          e.preventDefault();\n          _this.toggle($tabContent);\n        }).on('keydown.zf.accordion', function(e){\n          Foundation.Keyboard.handleKey(e, 'Accordion', {\n            toggle: function() {\n              _this.toggle($tabContent);\n            },\n            next: function() {\n              var $a = $elem.next().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            previous: function() {\n              var $a = $elem.prev().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            handled: function() {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          });\n        });\n      }\n    });\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Toggles the selected content pane's open/close state.\n   * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n   * @function\n   */\n  toggle($target) {\n    if($target.parent().hasClass('is-active')) {\n      this.up($target);\n    } else {\n      this.down($target);\n    }\n    //either replace or update browser history\n    if (this.options.deepLink) {\n      var anchor = $target.prev('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n  }\n\n  /**\n   * Opens the accordion tab defined by `$target`.\n   * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n   * @param {Boolean} firstTime - flag to determine if reflow should happen.\n   * @fires Accordion#down\n   * @function\n   */\n  down($target, firstTime) {\n    $target\n      .attr('aria-hidden', false)\n      .parent('[data-tab-content]')\n      .addBack()\n      .parent().addClass('is-active');\n\n    if (!this.options.multiExpand && !firstTime) {\n      var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n      if ($currentActive.length) {\n        this.up($currentActive.not($target));\n      }\n    }\n\n    $target.slideDown(this.options.slideSpeed, () => {\n      /**\n       * Fires when the tab is done opening.\n       * @event Accordion#down\n       */\n      this.$element.trigger('down.zf.accordion', [$target]);\n    });\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n      'aria-expanded': true,\n      'aria-selected': true\n    });\n  }\n\n  /**\n   * Closes the tab defined by `$target`.\n   * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n   * @fires Accordion#up\n   * @function\n   */\n  up($target) {\n    var $aunts = $target.parent().siblings(),\n        _this = this;\n\n    if((!this.options.allowAllClosed && !$aunts.hasClass('is-active')) || !$target.parent().hasClass('is-active')) {\n      return;\n    }\n\n    // Foundation.Move(this.options.slideSpeed, $target, function(){\n      $target.slideUp(_this.options.slideSpeed, function () {\n        /**\n         * Fires when the tab is done collapsing up.\n         * @event Accordion#up\n         */\n        _this.$element.trigger('up.zf.accordion', [$target]);\n      });\n    // });\n\n    $target.attr('aria-hidden', true)\n           .parent().removeClass('is-active');\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n     'aria-expanded': false,\n     'aria-selected': false\n   });\n  }\n\n  /**\n   * Destroys an instance of an accordion.\n   * @fires Accordion#destroyed\n   * @function\n   */\n  destroy() {\n    this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n    this.$element.find('a').off('.zf.accordion');\n    if(this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nAccordion.defaults = {\n  /**\n   * Amount of time to animate the opening of an accordion pane.\n   * @option\n   * @type {number}\n   * @default 250\n   */\n  slideSpeed: 250,\n  /**\n   * Allow the accordion to have multiple open panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  multiExpand: false,\n  /**\n   * Allow the accordion to close all panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  allowAllClosed: false,\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open accordion\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false\n};\n\n// Window exports\nFoundation.plugin(Accordion, 'Accordion');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Interchange module.\n * @module foundation.interchange\n * @requires foundation.util.mediaQuery\n * @requires foundation.util.timerAndImageLoader\n */\n\nclass Interchange {\n  /**\n   * Creates a new instance of Interchange.\n   * @class\n   * @fires Interchange#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Interchange.defaults, options);\n    this.rules = [];\n    this.currentPath = '';\n\n    this._init();\n    this._events();\n\n    Foundation.registerPlugin(this, 'Interchange');\n  }\n\n  /**\n   * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n   * @function\n   * @private\n   */\n  _init() {\n    this._addBreakpoints();\n    this._generateRules();\n    this._reflow();\n  }\n\n  /**\n   * Initializes events for Interchange.\n   * @function\n   * @private\n   */\n  _events() {\n    $(window).on('resize.zf.interchange', Foundation.util.throttle(() => {\n      this._reflow();\n    }, 50));\n  }\n\n  /**\n   * Calls necessary functions to update Interchange upon DOM change\n   * @function\n   * @private\n   */\n  _reflow() {\n    var match;\n\n    // Iterate through each rule, but only save the last match\n    for (var i in this.rules) {\n      if(this.rules.hasOwnProperty(i)) {\n        var rule = this.rules[i];\n        if (window.matchMedia(rule.query).matches) {\n          match = rule;\n        }\n      }\n    }\n\n    if (match) {\n      this.replace(match.path);\n    }\n  }\n\n  /**\n   * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n   * @function\n   * @private\n   */\n  _addBreakpoints() {\n    for (var i in Foundation.MediaQuery.queries) {\n      if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n        var query = Foundation.MediaQuery.queries[i];\n        Interchange.SPECIAL_QUERIES[query.name] = query.value;\n      }\n    }\n  }\n\n  /**\n   * Checks the Interchange element for the provided media query + content pairings\n   * @function\n   * @private\n   * @param {Object} element - jQuery object that is an Interchange instance\n   * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n   */\n  _generateRules(element) {\n    var rulesList = [];\n    var rules;\n\n    if (this.options.rules) {\n      rules = this.options.rules;\n    }\n    else {\n      rules = this.$element.data('interchange');\n    }\n    \n    rules =  typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n    for (var i in rules) {\n      if(rules.hasOwnProperty(i)) {\n        var rule = rules[i].slice(1, -1).split(', ');\n        var path = rule.slice(0, -1).join('');\n        var query = rule[rule.length - 1];\n\n        if (Interchange.SPECIAL_QUERIES[query]) {\n          query = Interchange.SPECIAL_QUERIES[query];\n        }\n\n        rulesList.push({\n          path: path,\n          query: query\n        });\n      }\n    }\n\n    this.rules = rulesList;\n  }\n\n  /**\n   * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n   * @function\n   * @param {String} path - Path to the image or HTML partial.\n   * @fires Interchange#replaced\n   */\n  replace(path) {\n    if (this.currentPath === path) return;\n\n    var _this = this,\n        trigger = 'replaced.zf.interchange';\n\n    // Replacing images\n    if (this.$element[0].nodeName === 'IMG') {\n      this.$element.attr('src', path).on('load', function() {\n        _this.currentPath = path;\n      })\n      .trigger(trigger);\n    }\n    // Replacing background images\n    else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n      this.$element.css({ 'background-image': 'url('+path+')' })\n          .trigger(trigger);\n    }\n    // Replacing HTML\n    else {\n      $.get(path, function(response) {\n        _this.$element.html(response)\n             .trigger(trigger);\n        $(response).foundation();\n        _this.currentPath = path;\n      });\n    }\n\n    /**\n     * Fires when content in an Interchange element is done being loaded.\n     * @event Interchange#replaced\n     */\n    // this.$element.trigger('replaced.zf.interchange');\n  }\n\n  /**\n   * Destroys an instance of interchange.\n   * @function\n   */\n  destroy() {\n    //TODO this.\n  }\n}\n\n/**\n * Default settings for plugin\n */\nInterchange.defaults = {\n  /**\n   * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n   * @option\n   * @type {?array}\n   * @default null\n   */\n  rules: null\n};\n\nInterchange.SPECIAL_QUERIES = {\n  'landscape': 'screen and (orientation: landscape)',\n  'portrait': 'screen and (orientation: portrait)',\n  'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n};\n\n// Window exports\nFoundation.plugin(Interchange, 'Interchange');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Tabs module.\n * @module foundation.tabs\n * @requires foundation.util.keyboard\n * @requires foundation.util.timerAndImageLoader if tabs contain images\n */\n\nclass Tabs {\n  /**\n   * Creates a new instance of tabs.\n   * @class\n   * @fires Tabs#init\n   * @param {jQuery} element - jQuery object to make into tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n    this._init();\n    Foundation.registerPlugin(this, 'Tabs');\n    Foundation.Keyboard.register('Tabs', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'previous',\n      'ARROW_DOWN': 'next',\n      'ARROW_LEFT': 'previous'\n      // 'TAB': 'next',\n      // 'SHIFT_TAB': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n   * @private\n   */\n  _init() {\n    var _this = this;\n\n    this.$element.attr({'role': 'tablist'});\n    this.$tabTitles = this.$element.find(`.${this.options.linkClass}`);\n    this.$tabContent = $(`[data-tabs-content=\"${this.$element[0].id}\"]`);\n\n    this.$tabTitles.each(function(){\n      var $elem = $(this),\n          $link = $elem.find('a'),\n          isActive = $elem.hasClass(`${_this.options.linkActiveClass}`),\n          hash = $link[0].hash.slice(1),\n          linkId = $link[0].id ? $link[0].id : `${hash}-label`,\n          $tabContent = $(`#${hash}`);\n\n      $elem.attr({'role': 'presentation'});\n\n      $link.attr({\n        'role': 'tab',\n        'aria-controls': hash,\n        'aria-selected': isActive,\n        'id': linkId\n      });\n\n      $tabContent.attr({\n        'role': 'tabpanel',\n        'aria-hidden': !isActive,\n        'aria-labelledby': linkId\n      });\n\n      if(isActive && _this.options.autoFocus){\n        $(window).load(function() {\n          $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, () => {\n            $link.focus();\n          });\n        });\n      }\n    });\n    if(this.options.matchHeight) {\n      var $images = this.$tabContent.find('img');\n\n      if ($images.length) {\n        Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n      } else {\n        this._setHeight();\n      }\n    }\n\n     //current context-bound function to open tabs on page load or history popstate\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]');\n        if ($link.length) {\n          this.selectTab($(anchor), true);\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var offset = this.$element.offset();\n            $('html, body').animate({ scrollTop: offset.top }, this.options.deepLinkSmudgeDelay);\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Tabs#deeplink\n            */\n           this.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n         }\n       }\n     }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the tabs.\n   * @private\n   */\n  _events() {\n    this._addKeyHandler();\n    this._addClickHandler();\n    this._setHeightMqHandler = null;\n\n    if (this.options.matchHeight) {\n      this._setHeightMqHandler = this._setHeight.bind(this);\n\n      $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n    }\n\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Adds click handlers for items within the tabs.\n   * @private\n   */\n  _addClickHandler() {\n    var _this = this;\n\n    this.$element\n      .off('click.zf.tabs')\n      .on('click.zf.tabs', `.${this.options.linkClass}`, function(e){\n        e.preventDefault();\n        e.stopPropagation();\n        _this._handleTabChange($(this));\n      });\n  }\n\n  /**\n   * Adds keyboard event handlers for items within the tabs.\n   * @private\n   */\n  _addKeyHandler() {\n    var _this = this;\n\n    this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function(e){\n      if (e.which === 9) return;\n\n\n      var $element = $(this),\n        $elements = $element.parent('ul').children('li'),\n        $prevElement,\n        $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          if (_this.options.wrapOnKeys) {\n            $prevElement = i === 0 ? $elements.last() : $elements.eq(i-1);\n            $nextElement = i === $elements.length -1 ? $elements.first() : $elements.eq(i+1);\n          } else {\n            $prevElement = $elements.eq(Math.max(0, i-1));\n            $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\n          }\n          return;\n        }\n      });\n\n      // handle keyboard event with keyboard util\n      Foundation.Keyboard.handleKey(e, 'Tabs', {\n        open: function() {\n          $element.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($element);\n        },\n        previous: function() {\n          $prevElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($prevElement);\n        },\n        next: function() {\n          $nextElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($nextElement);\n        },\n        handled: function() {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      });\n    });\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n   * @param {jQuery} $target - Tab to open.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @fires Tabs#change\n   * @function\n   */\n  _handleTabChange($target, historyHandled) {\n\n    /**\n     * Check for active class on target. Collapse if exists.\n     */\n    if ($target.hasClass(`${this.options.linkActiveClass}`)) {\n        if(this.options.activeCollapse) {\n            this._collapseTab($target);\n\n           /**\n            * Fires when the zplugin has successfully collapsed tabs.\n            * @event Tabs#collapse\n            */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n        }\n        return;\n    }\n\n    var $oldTab = this.$element.\n          find(`.${this.options.linkClass}.${this.options.linkActiveClass}`),\n          $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n    //close old tab\n    this._collapseTab($oldTab);\n\n    //open new tab\n    this._openTab($target);\n\n    //either replace or update browser history\n    if (this.options.deepLink && !historyHandled) {\n      var anchor = $target.find('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n\n    /**\n     * Fires when the plugin has successfully changed tabs.\n     * @event Tabs#change\n     */\n    this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n    //fire to children a mutation event\n    $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _openTab($target) {\n      var $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n      $target.addClass(`${this.options.linkActiveClass}`);\n\n      $tabLink.attr({'aria-selected': 'true'});\n\n      $targetContent\n        .addClass(`${this.options.panelActiveClass}`)\n        .attr({'aria-hidden': 'false'});\n  }\n\n  /**\n   * Collapses `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _collapseTab($target) {\n    var $target_anchor = $target\n      .removeClass(`${this.options.linkActiveClass}`)\n      .find('[role=\"tab\"]')\n      .attr({ 'aria-selected': 'false' });\n\n    $(`#${$target_anchor.attr('aria-controls')}`)\n      .removeClass(`${this.options.panelActiveClass}`)\n      .attr({ 'aria-hidden': 'true' });\n  }\n\n  /**\n   * Public method for selecting a content pane to display.\n   * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @function\n   */\n  selectTab(elem, historyHandled) {\n    var idStr;\n\n    if (typeof elem === 'object') {\n      idStr = elem[0].id;\n    } else {\n      idStr = elem;\n    }\n\n    if (idStr.indexOf('#') < 0) {\n      idStr = `#${idStr}`;\n    }\n\n    var $target = this.$tabTitles.find(`[href$=\"${idStr}\"]`).parent(`.${this.options.linkClass}`);\n\n    this._handleTabChange($target, historyHandled);\n  };\n  /**\n   * Sets the height of each panel to the height of the tallest panel.\n   * If enabled in options, gets called on media query change.\n   * If loading content via external source, can be called directly or with _reflow.\n   * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n   * @function\n   * @private\n   */\n  _setHeight() {\n    var max = 0,\n        _this = this; // Lock down the `this` value for the root tabs object\n\n    this.$tabContent\n      .find(`.${this.options.panelClass}`)\n      .css('height', '')\n      .each(function() {\n\n        var panel = $(this),\n            isActive = panel.hasClass(`${_this.options.panelActiveClass}`); // get the options from the parent instead of trying to get them from the child\n\n        if (!isActive) {\n          panel.css({'visibility': 'hidden', 'display': 'block'});\n        }\n\n        var temp = this.getBoundingClientRect().height;\n\n        if (!isActive) {\n          panel.css({\n            'visibility': '',\n            'display': ''\n          });\n        }\n\n        max = temp > max ? temp : max;\n      })\n      .css('height', `${max}px`);\n  }\n\n  /**\n   * Destroys an instance of an tabs.\n   * @fires Tabs#destroyed\n   */\n  destroy() {\n    this.$element\n      .find(`.${this.options.linkClass}`)\n      .off('.zf.tabs').hide().end()\n      .find(`.${this.options.panelClass}`)\n      .hide();\n\n    if (this.options.matchHeight) {\n      if (this._setHeightMqHandler != null) {\n         $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n      }\n    }\n\n    if (this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nTabs.defaults = {\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the tab panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open tab\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false,\n\n  /**\n   * Allows the window to scroll to content of active pane on load if set to true.\n   * Not recommended if more than one tab panel per page.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  autoFocus: false,\n\n  /**\n   * Allows keyboard input to 'wrap' around the tab links.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  wrapOnKeys: true,\n\n  /**\n   * Allows the tab content panes to match heights if set to true.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  matchHeight: false,\n\n  /**\n   * Allows active tabs to collapse when clicked.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  activeCollapse: false,\n\n  /**\n   * Class applied to `li`'s in tab link list.\n   * @option\n   * @type {string}\n   * @default 'tabs-title'\n   */\n  linkClass: 'tabs-title',\n\n  /**\n   * Class applied to the active `li` in tab link list.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  linkActiveClass: 'is-active',\n\n  /**\n   * Class applied to the content containers.\n   * @option\n   * @type {string}\n   * @default 'tabs-panel'\n   */\n  panelClass: 'tabs-panel',\n\n  /**\n   * Class applied to the active content container.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  panelActiveClass: 'is-active'\n};\n\n// Window exports\nFoundation.plugin(Tabs, 'Tabs');\n\n}(jQuery);\n","/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n( function( window, factory ) {\n  'use strict';\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'get-size/get-size',[],function() {\n      return factory();\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See http://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\n  body.removeChild( div );\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/cell',[\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-selected', 'false' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.removeAttribute('aria-selected');\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n\n// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/slide',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.changeSelected( true );\n};\n\nproto.unselect = function() {\n  this.changeSelected( false );\n};\n\nproto.changeSelected = function( isSelected ) {\n  var classMethod = isSelected ? 'add' : 'remove';\n  this.cells.forEach( function( cell ) {\n    cell.element.classList[ classMethod ]('is-selected');\n    cell.element.setAttribute( 'aria-selected', isSelected.toString() );\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n\n// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/animate',[\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  x = x + this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var value = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = this.isAnimating ?\n    'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n  // scroll event\n  var firstSlide = this.slides[0];\n  if ( firstSlide ) {\n    var positionX = -this.x - firstSlide.target;\n    var progress = positionX / this.slidesWidth;\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n  }\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n\n// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/flickity',[\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n\n  var index;\n  var initialIndex = this.options.initialIndex;\n  if ( this.isInitActivated ) {\n    index = this.selectedIndex;\n  } else if ( initialIndex !== undefined ) {\n    index = this.cells[ initialIndex ] ? initialIndex : 0;\n  } else {\n    index = 0;\n  }\n  // select instantly\n  this.select( index, false, true );\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\nproto.childUIPointerDown = function( event ) {\n  this.emitEvent( 'childUIPointerDown', [ event ] );\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  var prevScrollY = window.pageYOffset;\n  this.element.focus();\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unipointer/unipointer',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unidragger/unidragger',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n\n// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/drag',[\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'childUIPointerDown', this._childUIPointerDownDrag );\n  this.on( 'deactivate', this.unbindDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\nproto._childUIPointerDownDrag = function( event ) {\n  // allow focus & preventDefault even when not draggable\n  // so child UI elements keep focus on carousel. #721\n  event.preventDefault();\n  this.pointerDownFocus( event );\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  this.pointerDownPointer = pointer;\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'tap-listener/tap-listener',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.TapListener = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// --------------------------  TapListener -------------------------- //\n\nfunction TapListener( elem ) {\n  this.bindTap( elem );\n}\n\n// inherit Unipointer & EventEmitter\nvar proto = TapListener.prototype = Object.create( Unipointer.prototype );\n\n/**\n * bind tap event to element\n * @param {Element} elem\n */\nproto.bindTap = function( elem ) {\n  if ( !elem ) {\n    return;\n  }\n  this.unbindTap();\n  this.tapElement = elem;\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindTap = function() {\n  if ( !this.tapElement ) {\n    return;\n  }\n  this._bindStartEvent( this.tapElement, true );\n  delete this.tapElement;\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  var pointerPoint = Unipointer.getPointerPoint( pointer );\n  var boundingRect = this.tapElement.getBoundingClientRect();\n  var scrollX = window.pageXOffset;\n  var scrollY = window.pageYOffset;\n  // calculate if pointer is inside tapElement\n  var isInside = pointerPoint.x >= boundingRect.left + scrollX &&\n    pointerPoint.x <= boundingRect.right + scrollX &&\n    pointerPoint.y >= boundingRect.top + scrollY &&\n    pointerPoint.y <= boundingRect.bottom + scrollY;\n  // trigger callback if pointer is inside element\n  if ( isInside ) {\n    this.emitEvent( 'tap', [ event, pointer ] );\n  }\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    var _this = this;\n    setTimeout( function() {\n      delete _this.isIgnoringMouseUp;\n    }, 400 );\n  }\n};\n\nproto.destroy = function() {\n  this.pointerDone();\n  this.unbindTap();\n};\n\n// -----  ----- //\n\nreturn TapListener;\n\n}));\n\n// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/prev-next-button',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( TapListener.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.on( 'tap', this.onTap );\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindTap( this.element );\n  // click events from keyboard\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // do regular TapListener destroy\n  TapListener.prototype.destroy.call( this );\n  // click events from keyboard\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.onTap = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function( event ) {\n  // only allow clicks from keyboard\n  var focused = document.activeElement;\n  if ( focused && focused == this.element ) {\n    this.onTap( event, event );\n  }\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n\n// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/page-dots',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = new TapListener();\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.on( 'tap', this.onTap );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.bindTap( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n  TapListener.prototype.destroy.call( this );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n\n// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/player',[\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n\n// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/add-remove-cell',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/lazyload',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/index',[\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity-as-nav-for/as-nav-for',[\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n\n\n\n// -------------------------- asNavFor prototype -------------------------- //\n\n// Flickity.defaults.asNavFor = null;\n\nFlickity.createMethods.push('_createAsNavFor');\n\nvar proto = Flickity.prototype;\n\nproto._createAsNavFor = function() {\n  this.on( 'activate', this.activateAsNavFor );\n  this.on( 'deactivate', this.deactivateAsNavFor );\n  this.on( 'destroy', this.destroyAsNavFor );\n\n  var asNavForOption = this.options.asNavFor;\n  if ( !asNavForOption ) {\n    return;\n  }\n  // HACK do async, give time for other flickity to be initalized\n  var _this = this;\n  setTimeout( function initNavCompanion() {\n    _this.setNavCompanion( asNavForOption );\n  });\n};\n\nproto.setNavCompanion = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var companion = Flickity.data( elem );\n  // stop if no companion or companion is self\n  if ( !companion || companion == this ) {\n    return;\n  }\n\n  this.navCompanion = companion;\n  // companion select\n  var _this = this;\n  this.onNavCompanionSelect = function() {\n    _this.navCompanionSelect();\n  };\n  companion.on( 'select', this.onNavCompanionSelect );\n  // click\n  this.on( 'staticClick', this.onNavStaticClick );\n\n  this.navCompanionSelect( true );\n};\n\nproto.navCompanionSelect = function( isInstant ) {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  // select slide that matches first cell of slide\n  var selectedCell = this.navCompanion.selectedCells[0];\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n    this.navCompanion.cellAlign ) );\n  this.selectCell( selectIndex, false, isInstant );\n  // set nav selected class\n  this.removeNavSelectedElements();\n  // stop if companion has more cells than this one\n  if ( selectIndex >= this.cells.length ) {\n    return;\n  }\n\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n  this.navSelectedElements = selectedCells.map( function( cell ) {\n    return cell.element;\n  });\n  this.changeNavSelectedClass('add');\n};\n\nfunction lerp( a, b, t ) {\n  return ( b - a ) * t + a;\n}\n\nproto.changeNavSelectedClass = function( method ) {\n  this.navSelectedElements.forEach( function( navElem ) {\n    navElem.classList[ method ]('is-nav-selected');\n  });\n};\n\nproto.activateAsNavFor = function() {\n  this.navCompanionSelect( true );\n};\n\nproto.removeNavSelectedElements = function() {\n  if ( !this.navSelectedElements ) {\n    return;\n  }\n  this.changeNavSelectedClass('remove');\n  delete this.navSelectedElements;\n};\n\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n  if ( typeof cellIndex == 'number' ) {\n    this.navCompanion.selectCell( cellIndex );\n  }\n};\n\nproto.deactivateAsNavFor = function() {\n  this.removeNavSelectedElements();\n};\n\nproto.destroyAsNavFor = function() {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\n  this.off( 'staticClick', this.onNavStaticClick );\n  delete this.navCompanion;\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'imagesloaded/imagesloaded',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'imagesloaded/imagesloaded'\n    ], function( Flickity, imagesLoaded ) {\n      return factory( window, Flickity, imagesLoaded );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('flickity'),\n      require('imagesloaded')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.imagesLoaded\n    );\n  }\n\n}( window, function factory( window, Flickity, imagesLoaded ) {\n'use strict';\n\nFlickity.createMethods.push('_createImagesLoaded');\n\nvar proto = Flickity.prototype;\n\nproto._createImagesLoaded = function() {\n  this.on( 'activate', this.imagesLoaded );\n};\n\nproto.imagesLoaded = function() {\n  if ( !this.options.imagesLoaded ) {\n    return;\n  }\n  var _this = this;\n  function onImagesLoadedProgress( instance, image ) {\n    var cell = _this.getParentCell( image.img );\n    _this.cellSizeChange( cell && cell.element );\n    if ( !_this.options.freeScroll ) {\n      _this.positionSliderAtSelected();\n    }\n  }\n  imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\n};\n\nreturn Flickity;\n\n}));\n","/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n","/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var\n        utils = (function () {\n            return {\n                escapeRegExChars: function (value) {\n                    return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n                },\n                createNode: function (containerClass) {\n                    var div = document.createElement('div');\n                    div.className = containerClass;\n                    div.style.position = 'absolute';\n                    div.style.display = 'none';\n                    return div;\n                }\n            };\n        }()),\n\n        keys = {\n            ESC: 27,\n            TAB: 9,\n            RETURN: 13,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40\n        };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n                ajaxSettings: {},\n                autoSelectFirst: false,\n                appendTo: document.body,\n                serviceUrl: null,\n                lookup: null,\n                onSelect: null,\n                width: 'auto',\n                minChars: 1,\n                maxHeight: 300,\n                deferRequestBy: 0,\n                params: {},\n                formatResult: Autocomplete.formatResult,\n                delimiter: null,\n                zIndex: 9999,\n                type: 'GET',\n                noCache: false,\n                onSearchStart: noop,\n                onSearchComplete: noop,\n                onSearchError: noop,\n                preserveInput: false,\n                containerClass: 'autocomplete-suggestions',\n                tabDisabled: false,\n                dataType: 'text',\n                currentRequest: null,\n                triggerSelectOnValidInput: true,\n                preventBadQueries: true,\n                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {\n                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n                },\n                paramName: 'query',\n                transformResult: function (response) {\n                    return typeof response === 'string' ? $.parseJSON(response) : response;\n                },\n                showNoSuggestionNotice: false,\n                noSuggestionNotice: 'No results',\n                orientation: 'bottom',\n                forceFixPosition: false\n            };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n        \n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value\n            .replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function () {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>')\n                                          .html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });\n            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('blur.autocomplete', function () { that.onBlur(); });\n            that.el.on('focus.autocomplete', function () { that.onFocus(); });\n            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('input.autocomplete', function (e) { that.onKeyUp(e); });\n        },\n\n        onFocus: function () {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function () {\n            this.enableKillerFn();\n        },\n        \n        abortAjax: function () {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function (suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n\n        clearCache: function () {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function () {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function () {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function () {\n            this.disabled = false;\n        },\n\n        fixPosition: function () {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = (Math.max(topOverflow, bottomOverflow) === topOverflow) ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if(containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                    if (!that.visible){\n                        $container.css('opacity', 0).show();\n                    }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible){\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function () {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function () {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function () {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n                \n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function () {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function () {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function (e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function (e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function () {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function (query) {\n            var suggestions = this.suggestions;\n\n            return (suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase());\n        },\n\n        getQuery: function (value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function (query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function (q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)){\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function (q) {\n            if (!this.options.preventBadQueries){\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function () {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function () {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function (suggestion, index) {\n                        var currentCategory = suggestion.data[groupBy];\n\n                        if (category === currentCategory){\n                            return '';\n                        }\n\n                        category = currentCategory;\n\n                        return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n                    };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy){\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function() {\n             var that = this,\n                 container = $(that.suggestionsContainer),\n                 noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function () {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function (suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function (suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if($.inArray(orientation, ['auto', 'bottom', 'top']) === -1){\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function (result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function (index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function () {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function (i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function () {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function () {\n            var that = this;\n\n            if (that.selectedIndex === (that.suggestions.length - 1)) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function (index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function (index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function (value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function () {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n}));\n","/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});","/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;","\n$(function(){\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n        48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n        65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n        77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n        96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n\n$.fn.setup_navigation = function(settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu',\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul')\n\t\t.attr('data-test','true')\n\t\t.attr({ 'aria-hidden': 'true', 'role': 'menu' })\n\t\t.find('a')\n\t\t\t.attr('tabIndex',-1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function(){\n\t\tif($(this).next('ul').length > 0)\n\t\t\t$(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function(){\n\t\t$(this).closest('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\n\t$(top_level_links).focus(function(){\n\t\t$(this).closest('ul')\n\t\t\t// Removed by Terrill\n\t\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t\t// .attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function(e){\n\t\tif(e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.last().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t} else if(e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function(e){\n\t\tif(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this)\n\t\t\t\t.parents('ul').first()\n\t\t\t\t\t.prev('a').focus()\n\t\t\t\t\t.parents('ul').first().find('.'+settings.menuHoverClass)\n\t\t\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else if(e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function(){\n\t\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function(e){\n\t\tif(e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t}\n\t});\n\t$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n\n\t$(this).click(function(e){\n\t\te.stopPropagation();\n\t});\n}\n"]}